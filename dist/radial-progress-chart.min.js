(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.RadialProgressChart=e()}})(function(){var e,t,n;return function r(e,t,n){function o(a,s){if(!t[a]){if(!e[a]){var l=typeof require=="function"&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return o(n?n:t)},c,c.exports,r,e,t,n)}return t[a].exports}var i=typeof require=="function"&&require;for(var a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,n){"use strict";var r;function o(t,n){r=typeof window!=="undefined"&&window.d3?window.d3:typeof e!=="undefined"?e("d3"):undefined;if(!r)throw new Error("d3 object is missing. D3.js library has to be loaded before.");var i=this;i.options=o.normalizeOptions(n);console.log(i.options);var a=i.options.series,s=15+(i.options.diameter/2+i.options.stroke.width*i.options.series.length+(i.options.stroke.gap*i.options.series.length-1))*2,l=s,d="0 0 "+l+" "+s,c=2*Math.PI*i.options.scale,f=[],p=[];function u(e){var t=f[e.index];if(t)return t;t=e.index===0?i.options.diameter/2:p[e.index-1]+i.options.stroke.gap;f[e.index]=t;return t}function g(e){var t=p[e.index];if(t)return t;t=f[e.index]+i.options.stroke.width;p[e.index]=t;return t}i.progress=r.svg.arc().startAngle(i.options.startPoint).endAngle(function(e){return e.percentage/100*c+i.options.startPoint}).innerRadius(u).outerRadius(g).cornerRadius(function(e){var t;if(i.options.scale<1){t=1}else{t=e.percentage>=99?(100-e.percentage)*.1:1}return i.options.stroke.width/2*t});if(i.options.background){var h=r.svg.arc().startAngle(i.options.startPoint).endAngle(c+i.options.startPoint).innerRadius(u).outerRadius(g)}else{var h=r.svg.arc()}i.svg=r.select(t).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox",d).append("g").attr("transform","translate("+s/2+","+l/2+")");if(i.options.center){i.svg.append("text").attr("class","rbc-center-text").attr("text-anchor","middle").attr("x",i.options.center.x+"px").attr("y",i.options.center.y+"px").selectAll("tspan").data(i.options.center.content).enter().append("tspan").attr("dominant-baseline",function(){if(i.options.center.content.length===1){return"central"}}).attr("class",function(e,t){return"rbc-center-text-line"+t}).attr("x",0).attr("dy",function(e,t){if(t>0){return"1.1em"}}).each(function(e){if(typeof e==="function"){this.callback=e}}).text(function(e){if(typeof e==="string"){return e}return""})}i.field=i.svg.selectAll("g").data(a).enter().append("g");i.field.append("path").attr("class","progress");i.field.append("path").attr("class","bg").style("fill",function(e){return e.color.background}).style("opacity",.2).attr("d",h);i.field.append("text").classed("rbc-label rbc-label-start",true).attr("dominant-baseline","central").attr("x","10").attr("y",function(e){return-(i.options.diameter/2+e.index*(i.options.stroke.gap+i.options.stroke.width)+i.options.stroke.width/2)}).text(function(e){return e.labelStart});i.update()}o.prototype.update=function(e){var t=this;if(e){if(typeof e==="number"){e=[e]}var n;if(Array.isArray(e)){n=e}else if(typeof e==="object"){n=e.series||[]}for(var o=0;o<n.length;o++){this.options.series[o].previousValue=this.options.series[o].value;var i=n[o];if(typeof i==="number"){this.options.series[o].value=i}else if(typeof i==="object"){this.options.series[o].value=i.value}}}t.options.series.forEach(function(e){e.fromPercentage=e.percentage?e.percentage:5;e.percentage=(e.value-t.options.min)*100/(t.options.max-t.options.min)});var a=t.svg.select("text.rbc-center-text");t.field.select("path.progress").interrupt().transition().duration(t.options.animation.duration).delay(function(e,n){return n*t.options.animation.delay}).ease("elastic").attrTween("d",function(e){var n=r.interpolateNumber(e.fromPercentage,e.percentage);return function(r){e.percentage=n(r);return t.progress(e)}}).tween("center",function(e){if(t.options.center){var n=t.options.round?r.interpolateRound:r.interpolateNumber;var o=n(e.previousValue||0,e.value);return function(t){a.selectAll("tspan").each(function(){if(this.callback){r.select(this).text(this.callback(o(t),e.index,e))}})}}}).tween("interpolate-color",function(e){if(e.color.interpolate&&e.color.interpolate.length==2){var t=r.interpolateHsl(e.color.interpolate[0],e.color.interpolate[1]);return function(n){var o=t(e.percentage/100);r.select(this).style("fill",o);r.select(this.parentNode).select("path.bg").style("fill",o)}}}).style("fill",function(e){if(e.color.solid){return e.color.solid}if(e.color.linearGradient||e.color.radialGradient){return"url(#gradient"+e.index+")"}})};o.prototype.destroy=function(){this.svg.remove();delete this.svg};o.normalizeOptions=function(e){if(!e||typeof e!=="object"){e={}}var t={diameter:e.diameter||100,stroke:{width:e.stroke&&e.stroke.width||40,gap:e.stroke&&e.stroke.gap||2},shadow:{width:!e.shadow||e.shadow.width===null?4:e.shadow.width},animation:{duration:e.animation&&e.animation.duration||1750,delay:e.animation&&e.animation.delay||200},min:e.min||0,max:e.max||100,round:e.round!==undefined?!!e.round:true,series:e.series||[],center:o.normalizeCenter(e.center),border:e.scale||true,scale:e.scale||1,startPoint:e.startPoint||e.offset||0};var n=new o.ColorsIterator;for(var r=0,i=t.series.length;r<i;r++){var a=e.series[r];if(typeof a==="number"){a={value:a}}t.series[r]={index:r,value:a.value,labelStart:a.labelStart,color:o.normalizeColor(a.color,n)}}return t};o.normalizeColor=function(e,t){if(!e){e={solid:t.next()}}else if(typeof e==="string"){e={solid:e}}else if(Array.isArray(e)){e={interpolate:e}}else if(typeof e==="object"){if(!e.solid&&!e.interpolate&&!e.linearGradient&&!e.radialGradient){e.solid=t.next()}}if(e.interpolate){if(e.interpolate.length!==2){throw new Error("interpolate array should contain two colors")}}if(e.linearGradient||e.radialGradient){if(!e.stops||!Array.isArray(e.stops)||e.stops.length!==2){throw new Error("gradient syntax is malformed")}}if(!e.background){if(e.solid){e.background=e.solid}else if(e.interpolate){e.background=e.interpolate[0]}else if(e.linearGradient||e.radialGradient){e.background=e.stops[0]["stop-color"]}}return e};o.normalizeCenter=function(e){if(!e)return null;if(e.constructor!==Object){e={content:e}}e.content=e.content||[];e.x=e.x||0;e.y=e.y||0;if(!Array.isArray(e.content)){e.content=[e.content]}return e};o.Gradient=function(){function e(){}e.toSVGElement=function(e,t){var n=t.linearGradient?"linearGradient":"radialGradient";var o=r.select(document.createElementNS(r.ns.prefix.svg,n)).attr(t[n]).attr("id",e);t.stops.forEach(function(e){o.append("svg:stop").attr(e)});this.background=t.stops[0]["stop-color"];return o.node()};return e}();o.ColorsIterator=function(){e.DEFAULT_COLORS=["#1ad5de","#a0ff03","#e90b3a","#ff9500","#007aff","#ffcc00","#5856d6","#8e8e93"];function e(){this.index=0}e.prototype.next=function(){if(this.index===e.DEFAULT_COLORS.length){this.index=0}return e.DEFAULT_COLORS[this.index++]};return e}();if(typeof t!=="undefined")t.exports=o},{d3:undefined}]},{},[1])(1)});